<div class="row">
    <div *ngIf="user$ | async as user" class="col-6 offset-3">
      <div class="offset-4 m-5">
        <h1 class="h2 text-center">user details</h1>
      </div>
  
      <form #userForm="ngForm" (ngSubmit)="onUpdate(userForm, user)">
        <div class="form-group">
          <label for="id">ID</label>
          <input [(ngModel)]="user.id" class="form-control" name="id" type="text" readonly />
        </div>
        <div class="row">
          <div class="col-md-4">
            <div class="form-group">
              <label for="firstName">* First name</label>
              <input [(ngModel)]="user.firstName" class="form-control" name="firstName" type="text"
                pattern="^[A-Z].{2,24}" required />
              <div [hidden]="userForm.controls.firstName?.valid" class="error-message">
                The first name of the user must be between 3 and 25 characters
                and must begin with a capital letter.
              </div>
            </div>
          </div>
          <div class="col-md-4">
            <div class="form-group">
              <label for="lastName">* Last name</label>
              <input [(ngModel)]="user.lastName" class="form-control" name="lastName" type="text"
                pattern="^[A-Z].{2,24}" required />
              <div [hidden]="userForm.controls.lastName?.valid" class="error-message">
                The last name of the user must be between 3 and 25 characters
                and must begin with a capital letter.
              </div>
            </div>
          </div>
          <div class="col-md-4">
            <div class="form-group">
              <label for="amount">* E-mail</label>
              <input [(ngModel)]="user.email" class="form-control" name="email" type="text"
                pattern="^[a-zA-Z0-9]+@{1}[a-zA-Z0-9|-]+.{1}[a-z]{2,3}" required />
              <div [hidden]="userForm.controls.email?.valid" class="error-message">
                The e-mail must be a valid e-mail address.
              </div>
            </div>
          </div>
        </div>
  
        <div class="row">
          <div class="col-md-12 form-group">
            <label for="address">* Address </label>
            <input [(ngModel)]="user.address" class="form-control" name="address" type="text"
              pattern="^[A-Z0-9].{7,150}" required />
            <div [hidden]="userForm.controls.address?.valid" class="error-message">
              The address must be between 8 and 150 characters and must begin with a
              capital letter or a number.
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col-md-12 form-group">
            <label for="password">* Password </label>
            <input [(ngModel)]="user.password" class="form-control" name="password" type="text" required readonly />
          </div>
        </div>

        <div class="row">
          <div class="col-md-12 form-group">
            <label for="active">* active</label>
            <br />
            <input type="checkbox" id="active" name="active" [(ngModel)]="user.active">
          </div>
        </div>
  
        <pre class="text-right mt-3">
                <small>* required</small>
              </pre>
  
        <div class="btn-group d-flex justify-content-center">
          <button [routerLink]="['/users/']" type="reset" class="btn btn-secondary cancelBtn ml-5"><span
              class="material-icons">
              exit_to_app
            </span></button>
  
          <button (click)="showHtmlToasterUpdate()" [disabled]="userForm.invalid || updating"
            class="btn btn-success mr-5" type="submit">
            <i *ngIf="!updating" class="fa fa-save"></i>
            <i *ngIf="updating" class="fa fa-refresh"></i>
          </button>
        </div>
        <!-- teszteleshez -->
        <!-- <pre>
          {{user | json}}
        </pre> -->
  
      </form>
    </div>
  </div>